# ============================================
#   SPRING BOOT BACKEND CONFIGURATION
# ============================================

# ---- DATABASE CONFIG ----
# Uses environment variables in production
# Falls back to local Docker DB when running locally

spring.datasource.url=${DB_URL:jdbc:postgresql://localhost:5434/taskdb}
spring.datasource.username=${DB_USERNAME:taskuser}
spring.datasource.password=${DB_PASSWORD:taskpass}
spring.datasource.driver-class-name=org.postgresql.Driver

# ---- JPA / HIBERNATE ----
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect

# ---- SERVER PORT ----
# Allows hosting platforms (Render, Railway, Fly.io) to inject their own port
server.port=${PORT:8080}

# ---- CORS ----
# Your React dev server runs on 5173 / 5174
spring.web.cors.allowed-origins=http://localhost:5173,http://localhost:5174
spring.web.cors.allowed-methods=GET,POST,PUT,DELETE
spring.web.cors.allowed-headers=*
spring.web.cors.allow-credentials=true
